---
layout: default

---

<svg width=1000 height=100></svg>
<button>GIRLS GTFO</button>
<script type="text/javascript">
	d3.csv("http://celluccim.github.io/data/1993.csv", function(error, data){

		console.log(data.length);
		data.forEach(function(d){
			d.total = parseFloat(d.total);
		});

		var men;

		men = data.sort(function(a, b){
			return b.total - a.total;
		});
		
		// men.forEach(function(d){
		// 	console.log(d.name);
		// });
		draw(men);

	});

	function draw(name_data){
		console.log(name_data);

		var circles = d3.select("svg").selectAll("circle")
			.data(name_data, function(d){
				return d.name;
			});
		circles.enter().append("circle")
			.attr("cy", 50)
			.attr("cx", function(d, i){
				return 50 * (i+1);
			})
			.attr("r", 0);

		var extent = d3.extent(name_data, function(d){
			return d.total;
		})
			
		var scale = d3.scale.linear()
			.domain(extent)
			.range([2, 25])


		circles.transition().duration(300)
			.attr("r", function(d){
				return scale(d.total);
			})
			.attr("fill", function(d){
				return d.gender == "M" ? "blue" : "pink";
			});
		circles.exit().transition().duration(300)
			.attr("r", 0).remove();
	}
	
</script>